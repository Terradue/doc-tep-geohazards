
<!DOCTYPE html>


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>Join the GEP Laboratory &#8212; Geohazards Thematic Exploitation Platform 2.1 documentation</title>
    
    <link rel="stylesheet" href="../../_static/basic.css" type="text/css" />
    <link rel="stylesheet" href="../../_static/pygments.css" type="text/css" />
    <link rel="stylesheet" href="../../_static/bootstrap-3.3.4/css/bootstrap.min.css" type="text/css" />
    <link rel="stylesheet" href="../../_static/bootstrap-3.3.4/css/bootstrap-theme.min.css" type="text/css" />
    <link rel="stylesheet" href="../../_static/bootstrap-sphinx.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../../',
        VERSION:     '2.1',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true,
        SOURCELINK_SUFFIX: '.txt'
      };
    </script>
    <script type="text/javascript" src="../../_static/jquery.js"></script>
    <script type="text/javascript" src="../../_static/underscore.js"></script>
    <script type="text/javascript" src="../../_static/doctools.js"></script>
    <script type="text/javascript" src="../../_static/js/jquery-1.11.0.min.js"></script>
    <script type="text/javascript" src="../../_static/js/jquery-fix.js"></script>
    <script type="text/javascript" src="../../_static/bootstrap-3.3.4/js/bootstrap.min.js"></script>
    <script type="text/javascript" src="../../_static/bootstrap-sphinx.js"></script>
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" />
    <link rel="next" title="Developer Cloud Sandbox" href="sandbox.html" />
    <link rel="prev" title="Cloud Dashboard" href="dashboard.html" />
    <link rel="stylesheet" href="../../_static/terradue.css" type="text/css" />
    <script src="../../_static/affixTrick.js"></script>
  
<meta charset='utf-8'>
<meta http-equiv='X-UA-Compatible' content='IE=edge,chrome=1'>
<meta name='viewport' content='width=device-width, initial-scale=1.0, maximum-scale=1'>
<meta name="apple-mobile-web-app-capable" content="yes">


  </head>
  <body role="document">

<!-- <header>
	<div class="container">
		<a href="http://www.terradue.com" target="_blank"><img id="logo" src="../../_static/t2Logo.png"></a>
		<div id="t2-random-slogan">digital earth scalers</div>
	</div>
</header> -->
<div id="navbar" class="navbar navbar-default navbar-fixed-top"><!-- navbar-fixed-top-->
    <div class="container">
      <div class="navbar-header pull-right">
        <!-- .btn-navbar is used as the toggle for collapsed navbar content -->
        <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".nav-collapse">
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
        </button>
        <a class="navbar-brand" href="http://www.terradue.com" target="_blank"><img id="logo" src="../../_static/t2Logo.png"></a>
        <!--<a class="navbar-brand" href="../../index.html"><img class="navbar-brand-logo" src="../../_static/logo-geohazard.png" alt="sandbox-logo"/></a>-->
      </div>

        <div class="collapse navbar-collapse nav-collapse">
          <ul class="nav navbar-nav">
	    <a class="navbar-brand" href="https://geohazards-tep.eo.esa.int/#!" target="_blank"><img id="logo" src="../../_static/logo-geohazard.png"></a>
            <li class="divider-vertical"></li>
<!--             <li class="dropdown">
    <a href="#" class="dropdown-toggle" data-toggle="dropdown">
        <b>2.1</b><b class="caret"></b>
    </a>
    <ul class="dropdown-menu globaltoc">
        <li><a href="/devel">1.2 (Devel)</a></li>
        <li><a href="/stable">1.1 (Stable)</a></li>
    </ul>
</li> -->

            
            
              <li class="dropdown globaltoc-container">
  <a role="button"
     id="dLabelGlobalToc"
     data-toggle="dropdown"
     data-target="#"
     href="../../index.html">Site <b class="caret"></b></a>
  <ul class="dropdown-menu globaltoc"
      role="menu"
      aria-labelledby="dLabelGlobalToc"><ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../../overview/index.html">Overview</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../index.html">Community Portal User Guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../advanced/index.html">Community Advanced User Guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../admin-guide/index.html">Community Portal Administrator Guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../cloud-administrator/index.html">Cloud Operations Administrator Guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../apps/index.html">Thematic Applications</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../tutorials/index.html">Processing tutorials</a></li>
</ul>
</ul>
</li>
              
                <li class="dropdown">
  <a role="button"
     id="dLabelLocalToc"
     data-toggle="dropdown"
     data-target="#"
     href="#">Page <b class="caret"></b></a>
  <ul class="dropdown-menu localtoc"
      role="menu"
      aria-labelledby="dLabelLocalToc"><ul>
<li><a class="reference internal" href="#">Join the GEP Laboratory</a><ul>
<li><a class="reference internal" href="#prerequisites">Prerequisites</a></li>
<li><a class="reference internal" href="#install-your-openvpn-client">Install your OpenVPN Client</a></li>
<li><a class="reference internal" href="#run-your-vpn-connection">Run your VPN Connection</a></li>
<li><a class="reference internal" href="#known-caveats">Known caveats</a><ul>
<li><a class="reference internal" href="#dns-issues">DNS issues</a></li>
<li><a class="reference internal" href="#http-proxy-server">HTTP proxy server</a></li>
</ul>
</li>
<li><a class="reference internal" href="#going-further">Going further</a><ul>
<li><a class="reference internal" href="#how-to-use-the-openvpn-command-line-interface">How to use the OpenVPN Command Line Interface</a></li>
<li><a class="reference internal" href="#how-to-manually-setup-openvpn-on-other-platforms">How to manually setup OpenVPN on other Platforms</a></li>
<li><a class="reference internal" href="#how-to-build-and-install-openvpn">How to build and install OpenVPN</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</ul>
</li>
              
            
            
              
                
  <li>
    <a href="dashboard.html" title="Previous Chapter: Cloud Dashboard"><span class="glyphicon glyphicon-chevron-left visible-sm"></span><span class="hidden-sm hidden-tablet">&laquo; Cloud Dashboard</span>
    </a>
  </li>
  <li>
    <a href="sandbox.html" title="Next Chapter: Developer Cloud Sandbox"><span class="glyphicon glyphicon-chevron-right visible-sm"></span><span class="hidden-sm hidden-tablet">Developer Clo... &raquo;</span>
    </a>
  </li>
              
            
            
            
            
              <li><div id="sourcelink">
  <a href="https://github.com/Terradue/doc-tep-geohazards/blob/feature/v2/source/community-guide/cloud/laboratory.rst" rel="nofollow" target="_blank"><span class='githubLogo'></span>Source</a>
</div></li>
            
          </ul>
        </div>
    </div>
</div>
<div id="navbarSpacer"></div>

<div class="container">
  <div class="row">
<!--<div class="alert alert-danger alert-error alert-dismissable" style="margin-left: 15px; margin-right: 15px;">
	<button type="button" class="close" data-dismiss="alert" aria-hidden="true">&times;</button>
    <p class="first admonition-title">
        Warning
    </p>
    <p class="last">
        This guide is under development. The material on this page needs to be reviewed for completeness and accuracy. This guide may have not been updated yet from the last release.
    </p>
</div>-->

      <div class="col-md-3">
        <div id="sidebar" class="bs-sidenavNew" role="complementary"><ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../../overview/index.html">Overview</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../index.html">Community Portal User Guide</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="../platform/index.html">Platform overview</a></li>
<li class="toctree-l2"><a class="reference internal" href="../user.html">User Profile</a></li>
<li class="toctree-l2"><a class="reference internal" href="../apps.html">Thematic Applications</a></li>
<li class="toctree-l2"><a class="reference internal" href="../community.html">Communities</a></li>
<li class="toctree-l2"><a class="reference internal" href="../data.html">Data</a></li>
<li class="toctree-l2"><a class="reference internal" href="../processing.html">Processing</a></li>
<li class="toctree-l2"><a class="reference internal" href="../reproducibility.html">Reproducibility</a></li>
<li class="toctree-l2"><a class="reference internal" href="../sharing.html">Sharing</a></li>
<li class="toctree-l2 current"><a class="reference internal" href="index.html">Cloud Resources</a><ul class="current">
<li class="toctree-l3"><a class="reference internal" href="dashboard.html">Cloud Dashboard</a></li>
<li class="toctree-l3 current"><a class="current reference internal" href="#">Join the GEP Laboratory</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#prerequisites">Prerequisites</a></li>
<li class="toctree-l4"><a class="reference internal" href="#install-your-openvpn-client">Install your OpenVPN Client</a></li>
<li class="toctree-l4"><a class="reference internal" href="#run-your-vpn-connection">Run your VPN Connection</a></li>
<li class="toctree-l4"><a class="reference internal" href="#known-caveats">Known caveats</a></li>
<li class="toctree-l4"><a class="reference internal" href="#going-further">Going further</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="sandbox.html">Developer Cloud Sandbox</a></li>
<li class="toctree-l3"><a class="reference internal" href="github.html">Using Github</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../advanced/index.html">Community Advanced User Guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../admin-guide/index.html">Community Portal Administrator Guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../cloud-administrator/index.html">Cloud Operations Administrator Guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../apps/index.html">Thematic Applications</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../tutorials/index.html">Processing tutorials</a></li>
</ul>
<div id="sourcelink">
  <a href="https://github.com/Terradue/doc-tep-geohazards/blob/feature/v2/source/community-guide/cloud/laboratory.rst" rel="nofollow" target="_blank"><span class='githubLogo'></span>Source</a>
</div>
<form action="../../search.html" method="get">
 <div class="form-group">
  <input type="text" name="q" class="form-control" placeholder="Search" />
 </div>
  <input type="hidden" name="check_keywords" value="yes" />
  <input type="hidden" name="area" value="default" />
</form>
        </div>
      </div>

    <div class="col-md-9">
      
  <div class="section" id="join-the-gep-laboratory">
<span id="laboratory"></span><h1>Join the GEP Laboratory<a class="headerlink" href="#join-the-gep-laboratory" title="Permalink to this headline">¶</a></h1>
<p>A GEP Laboratory is a virtual network on Terradue Cloud Platform, dedicated to the hosting of your Cloud resources.
A GEP laboratory and its services are secured by authenticated VPN access. The following sections will guide you through the procedures related to the VPN Setup.</p>
<div class="section" id="prerequisites">
<span id="laboratory-prerequisites"></span><h2>Prerequisites<a class="headerlink" href="#prerequisites" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li>You are registered on the Geohazards Exploitation Platform <a class="reference external" href="https://geohazards-tep.eo.esa.int/umsso">https://geohazards-tep.eo.esa.int/umsso</a></li>
<li>You are registered on Terradue&#8217;s Portal <a class="reference external" href="https://www.terradue.com/portal/signup">https://www.terradue.com/portal/signup</a></li>
<li>You received an e-mail with subject &#8220;VPN Setup procedure | Join your Laboratory !&#8221;.</li>
</ul>
</div>
<div class="section" id="install-your-openvpn-client">
<h2>Install your OpenVPN Client<a class="headerlink" href="#install-your-openvpn-client" title="Permalink to this headline">¶</a></h2>
<p>Download and install your OpenVPN Client, in order to establish a connection with Terradue&#8217;s VPN server.</p>
<div class="admonition important">
<p class="first admonition-title">Important</p>
<p class="last">if you have a previously installed VPN client (e.g. Tunnelblick) on your system, such <strong>previously installed client must be disconnected and then be disabled</strong> (we recommend uninstalling it).</p>
</div>
<ul class="simple">
<li>Go to <a class="reference external" href="https://access.terradue.com">https://access.terradue.com</a></li>
<li>Type as Username the email used during your registration to the Terradue&#8217;s Portal,</li>
<li>Type as Password the passphrase that you chose during the registration,</li>
<li>Once logged, all the connection setup is automatic, you must only approve the access by the new client.</li>
</ul>
</div>
<div class="section" id="run-your-vpn-connection">
<span id="id1"></span><h2>Run your VPN Connection<a class="headerlink" href="#run-your-vpn-connection" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li>In your desktop tray, click on the &#8220;OpenVPN Connect&#8221; icon.</li>
<li>From the dropdown menu, select the entry &#8220;Connect to access.terradue.com&#8221;.</li>
<li>Provide your username and password to approve the access, if required.</li>
<li>Check that the &#8220;OpenVPN Connect&#8221; icon in your desktop tray is now featuring a green symbol.</li>
<li>That&#8217;s all :-)</li>
</ul>
<div class="admonition-congrats admonition">
<p class="first admonition-title">Congrats</p>
<p class="last">You have now completed your setup for accessing your GEP laboratory.
You shall be able to access your user dashboard here: <a class="reference external" href="http:/">http:/</a>/&lt;sandbox_ip&gt;/dashboard.
<strong>So, let&#8217;s try a first</strong> <span class="xref doc">Connect to your Sandbox</span> <strong>now !</strong></p>
</div>
</div>
<div class="section" id="known-caveats">
<h2>Known caveats<a class="headerlink" href="#known-caveats" title="Permalink to this headline">¶</a></h2>
<div class="section" id="dns-issues">
<h3>DNS issues<a class="headerlink" href="#dns-issues" title="Permalink to this headline">¶</a></h3>
<p>When the OpenVPN client is installed on a Linux/Unix OS, the OpenVPN Server is unable to alter the DNS settings on the client in question.
A typical behaviour in such cases is that you are able to ping your Sandbox through its IPv4 address, but not through the hostname.
To solve this kind of issue, add manually Terradue&#8217;s DNS server as a new line in your <em>/etc/resolv.conf</em> file:</p>
<div class="highlight-bash"><div class="highlight"><pre><span></span>nameserver <span class="m">10</span>.16.20.14
</pre></div>
</div>
<p>If you are using the NetworkManager tool (e.g. in the GNOME desktop environment), you should instead statically add the nameserver address 10.16.20.14 through the GUI.</p>
</div>
<div class="section" id="http-proxy-server">
<h3>HTTP proxy server<a class="headerlink" href="#http-proxy-server" title="Permalink to this headline">¶</a></h3>
<p>When the <em>OpenVPN Connect</em> client is installed behind a corporate HTTP proxy server, the connection fails because the proxy server doesn&#8217;t allow the VPN traffic. Thus the <em>OpenVPN Connect</em> client is not able to automatically download the <em>.ovpn</em> configuration file.</p>
<p>Hereafter a procedure to configure your VPN connection in that situation:</p>
<ul class="simple">
<li>Remove any previous version of the <em>OpenVPN Connect</em> client,</li>
<li>Download and install the latest OpenVPN client from <a class="reference external" href="https://openvpn.net/index.php/open-source/downloads.html">https://openvpn.net/index.php/open-source/downloads.html</a>,</li>
<li>Go to <a class="reference external" href="https://access.terradue.com/?src=login">https://access.terradue.com/?src=login</a>,</li>
<li>Type as Username the email used during the registration,</li>
<li>Type as Password the passphrase that you chose during the registration,</li>
<li>Download the <em>client.ovpn</em> configuration file from the link <em>&#8220;Yourself (user-locked profile)&#8221;</em>,</li>
<li>Modify the <em>client.ovpn</em> as described below:</li>
<li>Substitute:</li>
</ul>
<div class="highlight-bash"><div class="highlight"><pre><span></span>remote access.terradue.com <span class="m">443</span> udp
remote access.terradue.com <span class="m">443</span> udp
remote access.terradue.com <span class="m">443</span> tcp
remote access.terradue.com <span class="m">443</span> udp
remote access.terradue.com <span class="m">443</span> udp
remote access.terradue.com <span class="m">443</span> udp
remote access.terradue.com <span class="m">443</span> udp
remote access.terradue.com <span class="m">443</span> udp
</pre></div>
</div>
<p>With:</p>
<div class="highlight-bash"><div class="highlight"><pre><span></span>remote access.terradue.com <span class="m">443</span> tcp
http-proxy &lt;proxy_address&gt; &lt;proxy_port&gt;
http-proxy-retry
</pre></div>
</div>
<p>Check with your Network Administrator the values of <em>&lt;proxy_address&gt;</em> <em>&lt;proxy_port&gt;</em>.</p>
<ul class="simple">
<li>Put the <em>client.ovpn</em> configuration file under <em>&lt;installation-dir&gt;/config</em>,</li>
<li>Start the OpenVPN connection.</li>
</ul>
</div>
</div>
<div class="section" id="going-further">
<h2>Going further<a class="headerlink" href="#going-further" title="Permalink to this headline">¶</a></h2>
<div class="section" id="how-to-use-the-openvpn-command-line-interface">
<h3>How to use the OpenVPN Command Line Interface<a class="headerlink" href="#how-to-use-the-openvpn-command-line-interface" title="Permalink to this headline">¶</a></h3>
<p>If the system you are using has not a Graphical User Interface for OpenVPN, you have to use the OpenVPN&#8217;s command line.
Also, in some scenarios you need to use the OpenVPN&#8217;s command line interface, for example in a script to automatically start the VPN connection.
It can also be useful when you want to automatically start the VPN from a startup script.</p>
<p>So you can execute the OpenVPN client through the &#8220;openvpn&#8221; command by using the prompt (Unix Shell or Windows Prompt).</p>
<p>The CLI parameters are listed and described in the manual page of OpenVPN.
You can check them by typing the command:</p>
<div class="highlight-bash"><div class="highlight"><pre><span></span>man openvpn
</pre></div>
</div>
<p>from a Unix shell, the OpenVPN&#8217;s manual page will be displayed.
A great number of parameters are available to directly use in the command line prefixed by two consecutive hyphens (&#8211;).
The same parameters (not prefixed by &#8211;) can also be specified in the configuration file.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">Except for a few cases, it is better to specify the parameters in a configuration file rather than having them in a too long and heavy to read command line.</p>
</div>
</div>
<div class="section" id="how-to-manually-setup-openvpn-on-other-platforms">
<h3>How to manually setup OpenVPN on other Platforms<a class="headerlink" href="#how-to-manually-setup-openvpn-on-other-platforms" title="Permalink to this headline">¶</a></h3>
<p>To download the &#8220;OpenVPN Connect&#8221; client for installation on another computer, you can access installation material and configuration templates from here:</p>
<p><a class="reference external" href="https://access.terradue.com/?src=connect">https://access.terradue.com/?src=connect</a></p>
<p>You can establish a VPN connexion with Terradue&#8217;s OpenVPN server by using the command line.</p>
<ul class="simple">
<li>Go to <a class="reference external" href="https://access.terradue.com/?src=login">https://access.terradue.com/?src=login</a>,</li>
<li>Type as Username the email used during the registration,</li>
<li>Type as Password the passphrase that you chose during the registration,</li>
<li>Download the client.ovpn configuration file from the link &#8220;Yourself (user-locked profile)&#8221;,</li>
<li>Download the cacert.pem from <a class="reference external" href="https://ca.terradue.com/gpodcs/certs/cacert.pem">https://ca.terradue.com/gpodcs/certs/cacert.pem</a></li>
<li>Put the files client.ovpn and cacert.pem in a same directory (suppose /etc/openvpn/).</li>
<li>Change the current directory to /etc/openvpn/ and exec (with root privileges) the command:</li>
</ul>
<div class="highlight-bash"><div class="highlight"><pre><span></span>openvpn --config client.ovpn
</pre></div>
</div>
<ul class="simple">
<li>You are requested for the Username and the Password,</li>
<li>If the client is authenticated against the server, the VPN connection is established.</li>
</ul>
</div>
<div class="section" id="how-to-build-and-install-openvpn">
<h3>How to build and install OpenVPN<a class="headerlink" href="#how-to-build-and-install-openvpn" title="Permalink to this headline">¶</a></h3>
<p>For the most operating system in which OpenVPN works, binary packages already compiled exist.
Anyway, sometimes, above all for some Linux Distributions, you could need to build OpenVPN by starting with the source code.</p>
<ul class="simple">
<li>Download the OpenVPN&#8217;s source code from the site <a class="reference external" href="http://openvpn.net">http://openvpn.net</a>. Pick the latest stable release that is available (<em>suppose the release 2.0.9 in the rest of this document</em>);</li>
<li>Extract the files which are stored in the zipped archive that you have downloaded by using the tar command in the following manner:</li>
</ul>
<div class="highlight-bash"><div class="highlight"><pre><span></span>tar xvfz openvpn-2.0.9.tar.gz
</pre></div>
</div>
<ul class="simple">
<li>Change the current directory to openvpn-2.0.9 with the command:</li>
</ul>
<div class="highlight-bash"><div class="highlight"><pre><span></span><span class="nb">cd</span> openvpn-2.0.9
</pre></div>
</div>
<ul class="simple">
<li>Check the system and produce the Makefiles by using the following command:</li>
</ul>
<div class="highlight-bash"><div class="highlight"><pre><span></span>./configure --prefix<span class="o">=</span>/usr
make
make install
</pre></div>
</div>
<p>If the ./configure procedure claims that the lzo libraries and headers are not found in the system, install the lzo compression software as follows below:</p>
<ul class="simple">
<li>Download the source package of LZO from the site <a class="reference external" href="http://www.oberhumer.com/">http://www.oberhumer.com/</a> and extract its content with the command:</li>
</ul>
<div class="highlight-bash"><div class="highlight"><pre><span></span>tar xvfz lzo-2.02.tar.gz
</pre></div>
</div>
<ul class="simple">
<li>Change the current directory to lzo-2.02 and install the LZO software with the commands:</li>
</ul>
<div class="highlight-bash"><div class="highlight"><pre><span></span>./configure --prefix<span class="o">=</span>/usr
make
make install
</pre></div>
</div>
<div class="admonition warning">
<p class="first admonition-title">Warning</p>
<p class="last">Because the files will be written below the system directory /usr, the <em>make install</em> command must be executed with root privileges.</p>
</div>
</div>
</div>
</div>


    </div>
      
  </div>
</div>
<footer class="footer">
	<div class="container">
		&nbsp;&nbsp;&nbsp;Copyright 2006-2014 &copy; Terradue. All Rights Reserved. Please send comments to <a href="mailto:info [at] terradue [dot] com">info</a>. <p class="pull-right">This site is hosted by <a href="http://www.terradue.com">Terradue</a>.</p>
	</div>
</footer>

  </body>
</html>